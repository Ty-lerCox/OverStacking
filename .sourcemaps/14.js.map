{"version":3,"sources":["../../src/pages/layout/app1/category1/category1.module.ts","../../src/pages/layout/app1/category1/category1.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Category1Page } from './category1';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Category1Page,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(Category1Page),\r\n  ],\r\n  exports: [\r\n    Category1Page\r\n  ]\r\n})\r\nexport class Category1PageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/app1/category1/category1.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController } from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { IGame } from '../../../../app/app.interfaces'\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-category1',\r\n  templateUrl: 'category1.html'\r\n})\r\nexport class Category1Page {\r\n  gamesCol: AngularFirestoreCollection<IGame>;\r\n  games: any;\r\n  activeMenu: string;\r\n  user;\r\n\r\n\r\n  constructor(public navCtrl: NavController,public navParams: NavParams,public loadingCtrl: LoadingController, public afs: AngularFirestore, public afAuth: AngularFireAuth, public toaster: ToastController) {\r\n\r\n    //**Loading Screen */\r\n    let loadingPopup = this.loadingCtrl.create({\r\n      spinner: 'crescent',\r\n      content: ''\r\n    });\r\n    loadingPopup.present();\r\n\r\n    this.activeMenu = \"Basic\";\r\n\r\n    //** Game Collection */\r\n    this.gamesCol = this.getGamesCol();\r\n    this.games = this.gamesCol.snapshotChanges().map(actions => {\r\n        return actions.map(action => {\r\n            const data = action.payload.doc.data() as IGame;\r\n            const id = action.payload.doc.id;\r\n            return { id, data };\r\n        });\r\n    });\r\n\r\n    this.afAuth.auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.afs.collection(\"profiles\").doc(this.afAuth.auth.currentUser.uid).valueChanges().subscribe(userData => {  \r\n          this.user = userData;\r\n        })\r\n      } else {\r\n        this.navCtrl.setRoot(\"MainPage\");\r\n      }\r\n    });\r\n\r\n    //** Exit */\r\n    loadingPopup.dismiss();\r\n\r\n    if (this.navParams.get(\"action\") == \"updatedProfile\")\r\n    {\r\n      let toast = this.toaster.create({\r\n        message: \"Profile Has Been Updated!\",\r\n        duration: 3000\r\n      })\r\n      toast.present();\r\n    } else if (this.navParams.get(\"action\") == \"updateProfile\") {\r\n      let toast = this.toaster.create({\r\n        message: \"You're unable to create a stack until you have created a username.\\nHead back to the games page, click the menu button in the top left, and then click 'Profile' settings.\",\r\n        duration: 10000,\r\n        showCloseButton: true\r\n      })\r\n      toast.present();\r\n    } else {\r\n    }\r\n\r\n  }\r\n\r\n  //*********** Open list page  **************/\r\n  openList(Id) {\r\n      this.navCtrl.push('List1Page', { Id: Id, user: this.user }); \r\n  }\r\n\r\n  getGamesCol(): AngularFirestoreCollection<IGame> {\r\n    return this.afs.collection('games', ref => ref.where(\"type\", \"==\", this.activeMenu));\r\n  }\r\n\r\n  onSegmentChange() {\r\n    this.gamesCol = this.getGamesCol();\r\n    this.games = this.gamesCol.snapshotChanges().map(actions => {\r\n        return actions.map(action => {\r\n            const data = action.payload.doc.data() as IGame;\r\n            const id = action.payload.doc.id;\r\n            return { id, data };\r\n        });\r\n    });\r\n  }\r\n\r\n  signout() {\r\n    this.afAuth.auth.signOut();\r\n    this.navCtrl.setRoot(\"MainPage\");\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/app1/category1/category1.ts"],"sourceRoot":""}